# HTTPS

    由"HTTP over TCP/IP" 变成了 "HTTP over SSL/TLS"
![图片](https://static001.geekbang.org/resource/image/50/a3/50d57e18813e18270747806d5d73f0a3.png)

## SSL/TLS

    HTTP协议本身是无法处理安全性问题的，是由SSL/TLS协议实现
    1.加密算法都是公开,密匙是保密的

### 机密性

#### 对称加密

    1.对称加密:就是指加密和解密时使用的密钥都是同一个，是“对称”的。
        它的问题是:无法保证密匙传递是安全的

#### 非对称加密

    0.非对称加密:私钥加密只可以被公钥解密，公钥加密只可以被私钥解密
    1.公钥随便发，私钥自己保管（公钥加密的内容只能让私钥解，私钥加密的内容只能使用公钥解，加解密具有"单向性"）
    2.先让client获得公钥，然后通过公钥加密，内容只有私钥能解；
    3.这样保证了client传给服务器的是加密过的；而且内容只能被私钥解密；

#### 组合加密

    1.使用非对称加密约定一个对称加密的公钥;
    2.后面的内容通过这个公钥加密，解密;
    口语: 1.先给客户端传递公钥，客户端用公钥加密一个会话密匙（一个公钥）2.服务端接收到内容之后解密，提取会话密匙，然后使用会话密匙进行通信
![1](https://static001.geekbang.org/resource/image/e4/85/e41f87110aeea3e548d58cc35a478e85.png)

### 内容完整性

    1.摘要算法
        将一段内容通过hash运算生成一个固定长度的字符串，类似这段内容的指纹
        同时内容没有秘钥，无法解密，无法推出原文
    2.完整性不具有机密性，所以摘要算法+组合加密才能保证机密性和完整性；

### 身份认证和不可否认

    1.身份认证:使用数字证书，保证公钥确实是对应的机构的
    2.不可否认:对数字签名使用公钥解密,然后和返回的摘要对比，如果一致就说明是服务器提供的

#### 数字签名

    1.使用私钥加密，公钥解密

#### CA

    1.证书认证机构
    2.为了避免CA证书出现问题，还可以终止信任

### 安全

  机密性、完整性，身份认证和不可否认。
